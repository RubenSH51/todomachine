{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nexport function useLocalStorage(itemName, initialValue) {\n  _s();\n  const [item, setItem] = useState(initialValue);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  useEffect(() => {\n    setTimeout(() => {\n      try {\n        const localStorageItem = localStorage.getItem(itemName);\n        let parsedItem;\n        if (!localStorageItem) {\n          localStorage.setItem(itemName, JSON.stringify(initialValue));\n          parsedItem = initialValue;\n        } else {\n          parsedItem = JSON.parse(localStorageItem);\n          setItem(parsedItem);\n        }\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n        setError(true);\n      }\n    }, 2000);\n  }, []);\n  const savedItem = newItem => {\n    setItem(newItem);\n    localStorage.setItem(itemName, JSON.stringify(newItem));\n  };\n  return {\n    item,\n    savedItem,\n    loading,\n    error\n  };\n}\n_s(useLocalStorage, \"L1pwWrQdHJj0Ut0FlTd8rVfqcfE=\");","map":{"version":3,"names":["useEffect","useState","useLocalStorage","itemName","initialValue","item","setItem","loading","setLoading","error","setError","setTimeout","localStorageItem","localStorage","getItem","parsedItem","JSON","stringify","parse","savedItem","newItem"],"sources":["/media/sherlock/B012815A12812686/Sherlock/Platzi/Desarrollo Web/React lab/todomachine 2023/src/hooks/useLocalStorage.js"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nexport function useLocalStorage(itemName, initialValue)\n{\n\n  const [item, setItem] = useState(initialValue);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    setTimeout(() => {\n      try {\n        const localStorageItem = localStorage.getItem(itemName);\n    \n        let parsedItem;\n  \n        if (!localStorageItem) {\n          localStorage.setItem(itemName, JSON.stringify(initialValue));\n          parsedItem = initialValue;\n        } else {\n          parsedItem = JSON.parse(localStorageItem);\n          setItem(parsedItem);\n        }\n  \n        setLoading(false);\n      } catch(error) {\n        setLoading(false);\n        setError(true);\n      }\n    }, 2000);\n  }, []);\n\n\n\n\n  const savedItem = (newItem) => \n  {\n    setItem(newItem);\n    localStorage.setItem(itemName,JSON.stringify(newItem))\n  }\n\n\n\n  return {  item, \n            savedItem, \n            loading, \n            error} \n\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,OAAO,SAASC,eAAe,CAACC,QAAQ,EAAEC,YAAY,EACtD;EAAA;EAEE,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGL,QAAQ,CAACG,YAAY,CAAC;EAC9C,MAAM,CAACG,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAEzCD,SAAS,CAAC,MAAM;IACdW,UAAU,CAAC,MAAM;MACf,IAAI;QACF,MAAMC,gBAAgB,GAAGC,YAAY,CAACC,OAAO,CAACX,QAAQ,CAAC;QAEvD,IAAIY,UAAU;QAEd,IAAI,CAACH,gBAAgB,EAAE;UACrBC,YAAY,CAACP,OAAO,CAACH,QAAQ,EAAEa,IAAI,CAACC,SAAS,CAACb,YAAY,CAAC,CAAC;UAC5DW,UAAU,GAAGX,YAAY;QAC3B,CAAC,MAAM;UACLW,UAAU,GAAGC,IAAI,CAACE,KAAK,CAACN,gBAAgB,CAAC;UACzCN,OAAO,CAACS,UAAU,CAAC;QACrB;QAEAP,UAAU,CAAC,KAAK,CAAC;MACnB,CAAC,CAAC,OAAMC,KAAK,EAAE;QACbD,UAAU,CAAC,KAAK,CAAC;QACjBE,QAAQ,CAAC,IAAI,CAAC;MAChB;IACF,CAAC,EAAE,IAAI,CAAC;EACV,CAAC,EAAE,EAAE,CAAC;EAKN,MAAMS,SAAS,GAAIC,OAAO,IAC1B;IACEd,OAAO,CAACc,OAAO,CAAC;IAChBP,YAAY,CAACP,OAAO,CAACH,QAAQ,EAACa,IAAI,CAACC,SAAS,CAACG,OAAO,CAAC,CAAC;EACxD,CAAC;EAID,OAAO;IAAGf,IAAI;IACJc,SAAS;IACTZ,OAAO;IACPE;EAAK,CAAC;AAElB;AAAC,GA9CeP,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}